@using Microsoft.AspNetCore.Identity
@using Pernicek.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<script type="text/javascript">
    var ChangeLike = (function (id_com) {
        var like = "like";
        var MakeModel = {
            id_us: @UserManager.GetUserId(User),
            id_com: id_com,
            type: like
        }
        $.ajax({
            type: "POST",
            url: "/Comment/LikeThis",
            data: JSON.stringify(MakeModel),
            contentType: "application/json",
            success: function (data) {
                var likes = data.likes;
                var dislikes = data.dislikes;
                console.log("Likes: " + data.likes);
                console.log("disLikes: " + data.dislikes);
                 
                $('#dislike-' + id_com).html('<i class="fa fa-thumbs-down" aria-hidden="true"></i>' + dislikes);
            }
        })
        });
    
</script>

<script type="text/javascript">
    var ChangeSubLike = (function (id_com) {
        var like = "like";
        var MakeModel = {
            id_us: @UserManager.GetUserId(User),
            id_com: id_com,
            type: like
        }
        $.ajax({
            type: "POST",
            url: "/Comment/LikeThis",
            data: JSON.stringify(MakeModel),
            contentType: "application/json",
            success: function (data) {
                var likes = data.likes;
                var dislikes = data.dislikes;
                console.log("Likes: " + data.likes);
                console.log("disLikes: " + data.dislikes);
                $('#sublike-' + id_com).html('<i class="material-icons">favorite</i>' + likes);
                $('#subdislike-' + id_com).html('<i class="fa fa-thumbs-down" aria-hidden="true"></i>' + dislikes);
            }
        })
        });

</script>