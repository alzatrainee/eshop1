@inject Microsoft.ApplicationInsights.AspNetCore.JavaScriptSnippet JavaScriptSnippet


<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perníček - @ViewData["Title"]</title>

    <environment names="Development">
        <!--     Fonts and icons     -->
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
        <!-- CSS Files -->
        <link href="~/css/bootstrap.min.css" rel="stylesheet" />
        <link href="~/css/sweetalert2.min.css" rel="stylesheet" />

        <!-- Material Design stylesheet -->
        <link href="~/css/material-kit.min.css?v=1.1.1" rel="stylesheet" />

        @RenderSection("dashboard", required: false)
       

        <!-- Custom Nav stylesheet -->
        <link href="~/css/vertical-nav.css" rel="stylesheet" />
        <link href="~/css/custom-vertical-nav.css" rel="stylesheet" />

        <!-- Custom stylesheet -->
        <link rel="stylesheet" href="~/css/site.css" />
    </environment>
    <environment names="Staging,Production">
    </environment>
    @Html.Raw(JavaScriptSnippet.FullScript)
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a asp-area="" asp-controller="Home" asp-action="Index" class="navbar-brand">Perníček</a>
            </div>
            <div class=" collapse navbar-collapse">
                @await Html.PartialAsync("_LoginPartial")
            </div>
        </div>
    </nav>
    <!-- End Navbar -->
    <div class="index-page">

        @RenderBody()

        <!-- Footer -->
        <footer class="footer footer-black">
            <div class="container">
                <a class="footer-brand" href="#pablo">Perníček</a>


                <ul class="pull-center">
                    <li><a asp-area="" asp-controller="Home" asp-action="Index">Home</a></li>
                    <li><a asp-area="" asp-controller="Home" asp-action="About">About us</a></li>
                    <li><a asp-area="" asp-controller="Home" asp-action="Contact">Contact</a></li>
                </ul>

                <ul class="social-buttons pull-right">
                    <li>
                        <a href="#twitter" target="_blank" class="btn btn-just-icon btn-simple">
                            <i class="fa fa-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="#facebook" target="_blank" class="btn btn-just-icon btn-simple">
                            <i class="fa fa-facebook-square"></i>
                        </a>
                    </li>
                    <li>
                        <a href="#instagram" target="_blank" class="btn btn-just-icon btn-simple">
                            <i class="fa fa-instagram"></i>
                        </a>
                    </li>
                </ul>
                <hr />
                <div class="copyright">
                    &copy;
                    <script>
                        document.write(new Date().getFullYear())
                    </script> - Perníček, made with <i class="material-icons">favorite</i> by <a asp-area="" asp-controller="Home" asp-action="About">Group 1</a>.
                </div>
            </div>
        </footer>
        <!-- End Footer -->
    </div>


    <!-- Modal Core -->
        <!-- LogIn _ModalsPartial.cshtml --> 
        @Html.Partial("_ModalsPartial", new LoginViewModel())
    <!-- End Modal Core -->

    <!-- Javascript Libraries -->
       @Html.Partial("_Script_Libraries")

        <!-- Javascript libraries for Order page -->
       @RenderSection("dashboardJs", required: false)

        
   

    <script type="text/javascript">
        var saveJsonLength = 0;
        var totalPrice = 0;
        $("#cart-box").click(function () {

            var myData = {
                nameProduct: "abc",
                Price: 123,
                image: "abc",
                id_pr: 123,
                Firm: "abc",
                amount: 123
            };

            $.ajax({
                url: "/Order/Refresh",
                type: "POST",
                contentType: "application/json",
                data: JSON.stringify(myData),
                success: function (data) {

                    console.log(data);
                    console.log(data.ordProd);

                    if (data.ordProd.length > 0 && data.ordProd.length != saveJsonLength) {
                        for (var i = 0; i < data.ordProd.length; i++) {
                            var image = '<td><div class="img-container"> <img src="' + data.ordProd[i].image + '" alt="..."> </td></div>';
                            var name = '<td class="td-name"><a>' + data.ordProd[i].nameProduct + '</a><br /><small>by ' + data.ordProd[i].firm + '</small></td>';
                            var price = '<td class="text-center number"><small>&euro;</small>' + data.ordProd[i].price + '</td>';
                            var color = '<td>' + data.ordProd[i].color + '</td>';
                            var size = '<td class="text-right">' + data.ordProd[i].size + '</td>';

                            var item = '<tr>' + image + name + color + size + price + '</tr>';

                            $("#generate-shoppingbag-content").before(item);

                            totalPrice = totalPrice + data.ordProd[i].price;
                        }
                        $(".td-price").append('<small>&euro; </small>' + totalPrice);
                        saveJsonLength = data.ordProd.length;
                    }

                }
            });
        });
    </script>

    @await Html.PartialAsync("../Item/_Comments")

    <environment names="Development">
    </environment>
    <environment names="Staging,Production">
    </environment>
    @RenderSection("Scripts", required: false)

</body>
</html>
